<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const sceneEl = document.querySelector('a-scene');
        const arSystem = sceneEl.systems["mindar-image-system"];
        const exampleTarget = document.querySelector('#example-target');
        const examplePlane = document.querySelector('#example-plane');
        const startButton = document.querySelector("#example-start-button");
        const stopButton = document.querySelector("#example-stop-button");
        const pauseButton = document.querySelector("#example-pause-button");
        const pauseKeepVideoButton = document.querySelector("#example-pause-keep-video-button");
        const unpauseButton = document.querySelector("#example-unpause-button");
        startButton.addEventListener('click', () => {
          console.log("start");
          arSystem.start(); // start AR 
        });
        stopButton.addEventListener('click', () => {
          arSystem.stop(); // stop AR 
        });
        pauseButton.addEventListener('click', () => {
          arSystem.pause(); // pause AR, keep video feed
        });
        pauseKeepVideoButton.addEventListener('click', () => {
          arSystem.pause(true); // pause AR and video
        });
        unpauseButton.addEventListener('click', () => {
          arSystem.unpause(); // unpause AR and video
        });
        // arReady event triggered when ready
        sceneEl.addEventListener("arReady", (event) => {
          // console.log("MindAR is ready")
        });
        // arError event triggered when something went wrong. Mostly browser compatbility issue
        sceneEl.addEventListener("arError", (event) => {
          // console.log("MindAR failed to start")
        });
        // detect target found
        exampleTarget.addEventListener("targetFound", event => {
          console.log("target found");
        });
        // detect target lost
        exampleTarget.addEventListener("targetLost", event => {
          console.log("target lost");
        });
        // detect click event
        examplePlane.addEventListener("click", event => {
          console.log("plane click");
        });
      });
    </script>
  </head>
  <body>
    <a-scene>        <a-assets>
            <img id="card" src="images/card.png" />
            <img id="3dactivated" src="images/informationActivated.png" />
            <img id="3ddeactivated" src="images/informationDeactivated.png" />
            <img id="infoactivated" src="images/3dmodelActivated.png" />
            <img id="infodeactivated" src="images/3dmodelDeactivated.png" />
            <!--<img id="profilePic" src="images/profilePic.png" />-->
            <img id="tele" src="images/phone.png" />
            <img id="web" src="images/web.png" />
            <img id="mail" src="images/mail.png" />
            <img id="location" src="images/gps.png" />
            <a-asset-item id="avatarModel" src="models/men.gltf"></a-asset-item>
        </a-assets>
  
        <a-camera id="camera" position="0 0 0" look-controls="enabled: false"></a-camera>
  

            <a-entity scale="1 1 1">
                <a-box src="#card" scale="1 1 1"position="0 0 0" transparent="false" material="alphaTest:0.5;" height="0.571" width="1" depth="0.01" rotation="0 0 0">
            </a-box>
            <a-entity position="-1.2 0.8 0" scale="1 1 1">
              <!-- May change to more background for better visibility  
              <a-image src="#infodeactivated" position="1.25 0.3 0" visible="true" transparent="false" material="alphaTest:0.5;" geometry=""></a-image>
              <a-image src="#infoactivated" position="1.25 0.3 0" visible="false" transparent="false" material="alphaTest:0.5;" geometry=""></a-image>
              <a-image src="#3ddeactivated" position="0.9 0.3 0" visible="true" transparent="false" material="alphaTest:0.5;" geometry=""></a-image>
              <a-image src="#3dactivated" position="0.9 0.3 0" visible="false" transparent="false" material="alphaTest:0.5;" geometry=""></a-image>
-->
              <!--<a-image src="#profilePic"position="0 0 0" transparent="false" material="alphaTest:0.5;" visible="true"></a-image>-->

              <!-- change the images to Button like including the text  -->
              <a-image src="#mail" position="0 0 0" visible="" transparent="false" material="alphaTest: 0.5" geometry="" scale="1 0.5 0.001" animation="property: position; from: 0 0 0; to: 1.165 -1.22 0; loop: true; startEvents: targetFound; dur: 1000">
              </a-image>
              <a-image src="#tele" position="1.165 -1.47 0" visible="" transparent="false" material="alphaTest: 0.5" geometry="" scale="1 0.5 0.01">
              </a-image>
              <a-image src="#web" position="1.165 -1.72 0" visible="" transparent="false" material="alphaTest: 0.5" geometry="" scale="1 0.5 0.00001">
              </a-image>
              <a-image src="#location" position="1.16557 -1.97 0" visible="" transparent="false" material="alphaTest: 0.5" geometry="" scale="1 0.5 1">
              </a-image>

           </a-entity>
         </a-entity>
    </a-scene>
    
  </body>
  
</html>
